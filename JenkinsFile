@Library('pipeline') _

timestamps {
   node {
      echo 'Hello World'

      stage('Build'){
         sh "pwd"
         sh "ls -lrt"
         dir('test-jenkins-pipeline'){
            sh "pwd"
            sh "ls -lrt"
            sh "python3 build.py"
         }
         JenkinsPipelineVars() 
      }

      stage('Test'){
         sh "python3 test.py"
         JenkinsPipelineVars() 
      }
      
      stage('Promote'){
         echo "Promote to functional"
      }
   }
}
